[{"content":"","description":null,"image":"ia.jpeg","permalink":"https://josecarlos.me/categories/ia/","subtitle":null,"tags":null,"title":"Inteligencia artifical"},{"content":"","description":null,"image":"ram.jpeg","permalink":"https://josecarlos.me/categories/ops/","subtitle":null,"tags":null,"title":"Operaciones"},{"content":"¬øQu√© es Varnish? Varnish es un sistema de cache que se utiliza principalmente para cubrir las siguientes necesidades:\n Cachear nuestros sitios webs para reducir la carga del backend. Acelerar la carga de est√°ticos para cargarlo directamente en la RAM. \u0026hellip;  Varnish tiene una documentaci√≥n bastante completa que es p√∫blica para todo el mundo y podemos consultar directamente en:\n https://varnish-cache.org/docs/6.5/  Una de las configuraciones m√°s interesantes de Varnish nos permite configurar cuanto tiempo debe de estar un objeto en la cache.\nConfiguraci√≥n en varnish de tiempos de cache En la documentaci√≥n de varnish podemos encontrar como configurar los tiempos que se mantendr√° un objeto en la cache.\nEn este caso, nos vamos a centrar en beresp.ttl y beresp.grace\nberesp.ttl Esta configuraci√≥n nos permite configurar cuanto tiempo debe de estar un objeto en la cache. Cuando pase este tiempo, el objeto dejar√° de servirse desde la cache (Si no tenemos configurado beresp.grace). Por ejemplo, si configuramos set beresp.ttl=1h, cuando pase una hora, el fichero se volver√° a pedir al backend.\nberesp.grace Esta configuraci√≥n nos permite configurar un periodo de gracia que nos permitir√° seguir mostrando a los usuarios versiones caducadas de la cache, mientras que varnish consulta al backend por una versi√≥n actualizada.\nVentajas de usar beresp.grace Una vez introducidas estas dos configuraciones, se van a mostrar dos ejemplos para que el lector entienda la necesidad del uso de beresp.grace.\nSupongamos que tenemos un fichero HTML fichero.html con un TTL de 1h y beresp.grace de 24h.\nEjemplo 1: Mucho tr√°fico  Supongamos que fichero.html no se encuentra en la cache actualmente, y que un cliente accede a misitio.com/fichero.html, en este caso,** Varnish ir√° al backend y pedir√° la versi√≥n m√°s nueva de fichero.html**, y **la guardar√° en cache.** Si otro cliente accede en la pr√≥xima hora a misitio.com/fichero.html, recibir√° la versi√≥n de fichero.html que tiene varnish guardada en la cache. Supongamos que cuando caduca el fichero de la cache, entran 100 usuarios simultaneos en nuestro sitio web. Si no tenemos configurado el beresp.grace, a nuestro backend llegar√≠an 100 peticiones, ya que la cache ha caducado. Sin embargo, si tenemos configurado el beresp.grace** los 100 clientes recibir√°n la versi√≥n que esta en cache de fichero.html**, y **seguidamente ir√° al backend y tratar√° de encontrar una versi√≥n actualizada de fichero.html**, pero en este caso, **s√≥lo se har√° una petici√≥n al backend**, ya que al estar dentro del per√≠odo de gracia. **Cuando el backend responda a Varnish, Varnish guardar√° esta respuesta como la cache m√°s nueva.** Finalmente, cuando acceda un usuario nuevo, Varnish mandar√° el nuevo fichero.html que ha guardado en la cache.  Ejemplo 2: Sitio online 24/7  Supongamos que fichero.html no se encuentra en la cache actualmente, y que un cliente accede a misitio.com/fichero.html, en este caso,** Varnish ir√° al backend y pedir√° la versi√≥n m√°s nueva de fichero.html**, y **la guardar√° en cache.** Supongamos que despu√©s de que se haya cargado en cache, se cae nuestro backend. Debido a que tenemos configurado un periodo de gracia de 24h, Varnish mostrar√° la versi√≥n que tiene en cache durante 24h, y tratar√° de actualizar la cache en segundo plano, cuando el sitio est√© disponible. Los usuarios podr√°n seguir viendo la web online, ya que Varnish est√° sirviendola. Supongamos que el backend vuelve a estar activo a las 12h, Varnish se conectar√° al backend, y autom√°ticamente refrescar√° la cache con las versi√≥n actualizada de fichero.html  ","description":"","image":"covevr.jpeg","permalink":"https://josecarlos.me/p/varnish-mostrar-la-cache-cuando-se-caiga-el-backend/","subtitle":null,"tags":["ops","performance","varnish"],"title":"Varnish: ¬øC√≥mo mantengo un sitio siempre online y evitos peticiones extras al backend?"},{"content":"Un poco sobre mi ¬°Hola, mundo! Bienvenid@ a mi p√°gina personal, ya que est√°s por aqu√≠, perm√≠teme que te cuente un poco sobre mi, y un poco sobre el blog üòÅ\nSobre mi Me llamo Jos√© Carlos, y en el momento que estoy escribiendo esta entrada tengo 25 a√±os. Estoy graduado en Matem√°ticas, y soy un apasionado de la inform√°tica general.\nDesde que era bastante peque√±o me ha gustado trastear, aprender y romper ordenadores. Esto hizo que desde muy temprana edad mostrase inter√©s por la programaci√≥n. Tuve mi primer ordenador con apenas 6 a√±os üë∂, y con apenas 9 a√±os la programaci√≥nüë®‚Äçüíª me empez√≥ a despertar curiosidad. Junto a un amigo del colegio empezamos a crear p√°ginas webs est√°ticas gracias a servicios como Palimpalem. Cuando las p√°ginas est√°ticas se me empezaron a quedar cortas, empec√© a trastear con PHP y comenc√© a a√±adir un poco de interactividad a mis antiguas p√°ginas est√°ticas gracias a servicios como MiArroba, que eran gratuitos y antes no me pod√≠a permitir üò≠.\nM√°s adelante, empec√© a explorar otro mundo bastante completo como es el de las CMS, mis primeros pasos fueron con Joomla!, y me ayud√≥ para a crear una p√°gina, a√∫n se puede encontrar en web.archive.org una copia de lo que fue mi primera web con Joomla! y se puede visitar aqu√≠\nA la par de estas aventuras, comenz√≥ unas de mis experiencias m√°s fructiferas en el mundo de internet gracias a Kekomundo, un foro donde se desarrollaban servidores para copias de juegos online. En este mundo me di a conocer con varios proyectos, que muchos nost√°lgicos conocer√°n, y me hizo estar relacionado muchos a√±os con Habbo Hotel.\nDe esta relaci√≥n con Habbo Hotel, se desat√≥ mi pasi√≥n por la seguridad inform√°tica y por las matem√°ticas, y creo que fue el momento donde realmente me di cuenta que ten√≠a que aprender m√°s matem√°ticas para complementar mi formaci√≥n que hab√≠a desarrollado a√±os atr√°s gracias a la curiosiad. En esta √©poca encontr√© una serie de exploits dentro del cliente de Habbo Hotel que permit√≠an hacer un Man-in-the-middle, debido a los problemas que exist√≠an en la implementaci√≥n del cliente, en la librer√≠a Diffie-Hellman y m√°s adelante usando teƒánicas de detecci√≥n de patrones buscando en la memoria RAM.\n  NovoFatum \nDespu√©s de unos a√±os muy divertidos y fruct√≠feros, abandon√© por completo este mundo para dedicarme plenamente al desarrollo de software libre, mis estudios y mi trabajo.\nCuando estaba en tercero de carrera, empec√© a trabajar como desarrollador de software, donde tambi√©n realizaba, operaciones y tareas de monitorizaci√≥n. Fueron 3 a√±os muy fructifero, y m√°s all√° de que fuera mi primera experiencia profesional, me sirvi√≥ para aprender much√≠simo del mundo Linux y me ayud√≥ para desarrollar mi creatividad.\nA d√≠a, de hoy estoy empezando una nueva aventura laboral, y estoy trabajando en un proyecto de software libre que se llama Tungsteno, que trata de crear una alternativa libre para el Wolfram Mathematica. üòÅ\n","description":"üìè + üî¨ + üë®‚Äçüíª + üö¥ + üêß + ‚òÅÔ∏è = ‚ù§Ô∏è","image":"history.jpeg","permalink":"https://josecarlos.me/sobre-mi/","subtitle":null,"tags":null,"title":"Sobre mi"},{"content":"Cuando nos hablan de inteligencia artificial, nos asustamos y pensamos en primera instancia que estos conocimientos est√°n lejos de la mano de los mortales.\nEn estas entradas voy a tratar de introducir de manera intuitiva los conceptos b√°sicos del machine learning y presentar algunas implementaciones y aplicaciones, con el objetivo de aprender yo mismo, y que otra gente aprenda.\nEn este art√≠culo tratamos uno de los modelos m√°s b√°sicos, la regresi√≥n lineal.\nPhoto by Drew Beamer/ UnsplashPredicciones b√°sicas Supongamos que nos vamos a mudar a Boston, y estamos observando la relaci√≥n entre el n√∫mero de habitaciones y el precio de las viviendas.\nRecopilaci√≥n de datos Anotamos en una tabla los valores que hemos observado:\n   Precio vivienda N¬∫ de habitaciones     24.0 6.575   21.6 6.421   34.7 7.185   33.4 6.998   36.2 7.147   28.7 6.43   22.9 6.012   27.1 6.172   16.5 5.631   18.9 6.004    Un primer acercamiento que podemos hacer es dibujar una nube de puntos donde el eje de las X corresponda al n√∫mero medio de habitaciones, y el eje de las Y corresponda al precio medio de la vivienda.\n  Una primera opci√≥n para resumir estos datos, es dibujar una recta que pase cerca de todos los datos, pero, ¬øC√≥mo podemos hacerlo? ¬øPodemos tantear la soluci√≥n?\nParece que tratar de solucionar este problema por tanteo, no es factible, tratemos de buscar una soluci√≥n aplicando las matem√°ticas.\nRecta de regresi√≥n lineal Queremos calcular una recta que minimice los errores entre todos los puntos Si calculamos la media de estos errores y los elevamos al cuadrado, obtenemos lo que se denomina error cuadr√°tico medio, y la recta que cumple esta propiedad se denomina recta de regresi√≥n lineal.\nF√≥rmulas para el c√°lculo de hiperplanos de regresi√≥n Si $X$ es la matriz de variables con una columna de $1$ en la primera columna, e $Y$ son los datos que tenemos y queremos predecir. Si observamos el caso de las viviendas en Boston, la matrix $X$ tendr√≠a dos columnas, una s√≥lo con 1, y otra con la media de n√∫mero de habitaciones, por otro lado, la $Y$ ser√≠an los precios de las viviendas.\nEntonces, el hiperplano $Y_e=\\beta X$ (O recta en $\\mathbb{R}^2$) tiene las siguientes componentes: $$ \\beta = (X^T X)^{-1} X^T Y $$\nDado que la primera columna de $X$ est√° compuesta por 1, el hiperplano vendr√° definido por: $$ Y_e = \\beta_1 X + \\beta_0 $$ Donde $\\beta_i$ son las componentes del vector $\\beta$\nPrediciendo valores Si volvemos a nuestro caso especifico, vamos a calcular los valores $\\beta$ y $\\alpha$.\nNuestra matrices $X$ e $Y$, vienen definidas de la siguiente forma:\n$$ X=\\left(\\begin{matrix} 1 \u0026amp; 6.575 \\\n1 \u0026amp; 6.421 \\\n1 \u0026amp; 7.185 \\\n1 \u0026amp; 6.998 \\\n1 \u0026amp; 7.147 \\\n1 \u0026amp; 6.43 \\\n1 \u0026amp; 6.012 \\\n1 \u0026amp; 6.172 \\\n1 \u0026amp; 5.631 \\\n1 \u0026amp; 6.004 \\end{matrix}\\right), Y=\\left(\\begin{matrix} 24.0 \\\n21.6 \\\n34.7 \\\n33.4 \\\n36.2 \\\n28.7 \\\n22.9 \\\n27.1 \\\n16.5 \\\n18.9 \\end{matrix}\\right) $$\nPor tanto, $$\\beta=(-49.98256497, 11.82850406)$$ De donde, $$ y_e=x b_1 + b_0 $$\nPodemos pintar la recta con los gr√°ficos para ver como se ajusta la recta: Supongamos ahora, que queremos calcular el precio estimado de una vivienda de 8 habitaciones, ahora simplemente deber√≠amos sustiuir en nuestra recta otros valores, y tendr√≠amos: $$ y_e = 8 \\beta_1 + \\beta_0 = 44 $$\nPor lo cual, predecimos que valor de una vivienda de 8 habitaciones, tendr√° un precio aproximadamente de 44k$\nPhoto by Hernan Lucio/ UnsplashC√°lculo de recta de regresi√≥n lineal Python Para este ejemplo utilizaremos la librer√≠a de c√°lculo cient√≠fico numpy, se puede encontrar el ejemplo aqu√≠:\n Ejemplo b√°sico con Numpy Usando funciones ya existentes para calcular la recta de regresi√≥n  Limitaciones En el ejemplo espec√≠fico de los precios de las viviendas en Boston seg√∫n el n√∫mero de habitaciones, se puede observar que los datos est√°n m√°s o menos cercanos a la recta de regresi√≥n que hemos calculado, y que la nube de puntos se \u0026ldquo;asemeja\u0026rdquo; a una recta. Sin embargo, esto no es siempre as√≠. Podr√≠a ocurrir que nuestros datos est√©n sumamente dispersos, y que nos fuese imposible encontrar una recta de regresi√≥n donde el error m√≠nimo sea demasiado grande.\nEs por eso, que se ver√°n otros modelos m√°s complejos que tratan de solucionar esto.\nAplicaciones Como hemos observado, estos modelos son muy b√°sicos y presentan limitaciones, sin embargo son bastante potentes en ciertas situaciones para predecir comportamientos.\nPor ejemplo, podemos usar este modelo para predecir m√©tricas en bases de datos temporales como Prometheus\nPrediciendo el futuro con Prometheus Prometheus incluye dos funciones interesante en este sentido predict_linear que predice el valor de una serie temporal en el futuro usando regresi√≥n lineal.\nEsta funci√≥n nos puede servir para tantear el valor que tendr√° una m√©trica en el futuro. Por ejemplo, si tenemos una m√©trica que cuenta la cantidad de usuarios conectados durante una campa√±a, podremos saber cuantos usuarios habr√° dentro de un periodo de tiempo.\nPor otro lado, tenemos la funci√≥n deriv, que nos devuelve la pendiente de la recta de regresi√≥n lineal.\nEsta pendiente nos permite calcular la velocidad con la que se est√° moviendo nuestra serie temporal y hacia que direcci√≥n. Por ejemplo, si tenemos una m√©trica que cubre el porcentaje de disco duro libre, y hacemos su derivada en los √∫ltimos 30 minutos, y nos da un valor negativo, podremos saber que se est√°n escribiendo ficheros en el disco, adem√°s, dado que la pendiente de la recta modela la velocidad de crecimiento (o decrecimiento) de nuestros datos, podremos sacar conclusiones de cuando pasar√° algo. Photo by Luke Chesser/ UnsplashFuente / Enlaces de inter√©s https://en.wikipedia.org/wiki/Linear_regression\nhttps://docs.scipy.org/doc/numpy/reference/routines.linalg.html\nhttps://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html\nhttps://docs.scipy.org/doc/numpy/index.html\nhttps://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_boston.html\n  ","description":"","image":"cover.jpeg","permalink":"https://josecarlos.me/p/ia-1-introduccion/","subtitle":null,"tags":["ia","python","tensorflow"],"title":"Inteligencia Artificial: #1 Introducci√≥n, rectas de regresi√≥n"},{"content":"","description":null,"image":null,"permalink":"https://josecarlos.me/archives/","subtitle":null,"tags":null,"title":"Archives"}]